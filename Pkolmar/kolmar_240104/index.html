<!DOCTYPE html>
<!-- _layouts/distill.html -->
<html>
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bumjini | [연구 13] 최종 목표 설정</title>
    <meta name="author" content="Bumjini  " />
    <meta name="description" content="2월달 연구 결론을 위한 최종 목표 설정" />
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🪴</text></svg>">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://fxnnxc.github.io/Pkolmar/kolmar_240104/">
    
    <!-- Dark Mode -->
    


    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams',
        inlineMath: [['$','$'], ['\\(','\\)']]
      },
      chtml: {
          scale: 1.0,
          minScale: .6,  
          mtextFontInherit: true,
          mtextInheritFont: true,
          merrorInheritFont: true,
        },
        svg: {
          scale: 1.2
        }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Distill js -->
    <script src="/assets/js/distillpub/template.v2.js"></script>
    <script src="/assets/js/distillpub/transforms.v2.js"></script>
    
  </head>

  <d-front-matter>
    <script async type="text/json">{
      "title": "[연구 13] 최종 목표 설정",
      "description": "2월달 연구 결론을 위한 최종 목표 설정",
      "published": "January 4, 2024",
      "authors": [
        {
          "author": "Bumjin Park",
          "authorURL": "",
          "affiliations": [
            {
              "name": "KAIST",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script>
  </d-front-matter>

  <body class="sticky-bottom-footer">

    <!-- Header -->    
    <center>
      <img src="/assets/common/KAIST-hi.gif" width="40px" style="margin-right:0px; padding-bottom: 3px;">
    </center>
    <hr> 

    <!-- Content -->
    <div class="post distill">

      <d-title>
        <h1 style="font-size: 32px;">[연구 13] 최종 목표 설정</h1>
        <p>2월달 연구 결론을 위한 최종 목표 설정</p>
      </d-title>

      <d-byline></d-byline>

      <d-article>
        

        <p>본 연구에서는 2월 최종 보고를 위한 목표를 설정하고 모델 검증 및 신뢰성 확보를 위해 필요한 연구들을 나열한다.</p>

<h2 id="평가-목표-quantitative">[평가 목표: Quantitative]</h2>
<ol>
  <li>물성 예측의 정확도</li>
  <li>원료 표현의 유용성</li>
  <li>물성 표현의 유용성</li>
</ol>

<h4 id="물성-예측-정확도-물성-예측-모델은-특정-물성에-대해서-잘-예측해야-한다">물성 예측 정확도 (물성 예측 모델은 특정 물성에 대해서 잘 예측해야 한다.)</h4>
<ul>
  <li>Ex) 점도 예측의 성능이 높아야 한다.  </li>
</ul>

<h4 id="원료-표현-유사도-비슷한-원료는-비슷한-표현을-지녀야-한다">원료 표현 유사도 (비슷한 원료는 비슷한 표현을 지녀야 한다.) </h4>
<ul>
  <li>원료 표현을 분석하여 어떤 정보를 얻을 수 있는가?</li>
  <li>전문가의 유사도를 기반으로 원료 표현을 찾았을 때, 성능이 오르는가?</li>
  <li>특정 알고리즘을 통해 원료 표현을 찾았을 때, 성능이 오르는가? </li>
  <li>Ex) MMM002 를 MMM000 의 원료 표현으로 바꾼다.</li>
</ul>

<h4 id="물성-표현-유사도-비슷한-예측-특성은-비슷한-task-표현을-지닐-것이다">물성 표현 유사도 (비슷한 예측 특성은 비슷한 Task 표현을 지닐 것이다.) </h4>
<ul>
  <li>학습 결과로 각 물성 표현 벡터는 서로 유사하게 형성되는가?</li>
  <li>데이터 수가 적은 물성에 대해서 학습 데이터가 많고 유사한 물성에 대한 표현으로 바꿨을 때 예측 성능이 오르는가? </li>
  <li>Ex) 4pin 과 6pin 은 모두 점도 예측에 사용된다. 점도 예측 벡터는 유사하게 형성되는가?</li>
</ul>

<h2 id="ai-모델-관련-추가-실험">[AI 모델 관련 추가 실험]</h2>
<ol>
  <li>Mixer 학습에 방식은 학습 성능을 올리는가? </li>
  <li>원료 개수 감소 : 특정 알고리즘이나 전문가의 견해를 바탕으로 원료 개수를 줄이는 경우, 학습 성능은 얼마나 향상되는가? </li>
  <li>물질의 양을 넣는 방법은 학습 성능에 차이를 보이는가? (amount) </li>
  <li>MixturePredictor 하이퍼 파라미터에 대한 테스트 </li>
  <li>Attention Map은 유의미하게 형성되는가? 분석할 수 있으며, 분석이 유용한가? </li>
  <li>기본 원료 표현은 유의미하게 형성 되는가? </li>
</ol>

<h2 id="추가적인-궁금증">[추가적인 궁금증]</h2>
<ol>
  <li>현재 구조는 데이터 수가 많아짐에 따라서 학습 성능은 확실히 좋아지는가?</li>
  <li>RPM에 대해서 절반씩 떨어지는 경향성을 그대로 보이며 학습되는가?</li>
</ol>

<h2 id="모델-학습-관련-내용">모델 학습 관련 내용</h2>
<ul>
  <li>Layer normalization 을 없애야 한다. amount를 곱해주는데, LN은 다시 원상복구 하기 때문이다.</li>
  <li>amount 를 넣는 방법으로 곱하는 대신에 추가적인 dimension을 주는 방법이 있다.</li>
  <li>AdamW optimizer를 사용해야 좀더 일반화가 될 것으로 판단된다.</li>
  <li>base_dim 자체가 작으면, 초기 시작되는 사이즈가 작다. 따라서 원료들의 표현이 좁은 공간에 형성된다.</li>
  <li>mixer_dim 자체는 커도 상관없다. 해석에는 영향을 미치지 않는다.</li>
</ul>

<hr>

<h2 id="mixer">Mixer</h2>

<p>믹서의 중요한 목표는 예측하고자 하는 물성에 대한 표현과 원료에 대한 표현을 섞어 예측용 표현을 만드는 것이다. 
입력으로 물성심층표현과 복수 개의 원료심층표현이 주어지며, Mixer 는 self-attention 을 바탕으로 미들을 섞어 물성표현벡터가 필요한 정보를 담고 있도록 설계한다.</p>

<p>아래 그림에서 pH벡터는 <code class="language-plaintext highlighter-rouge">pH</code> 예측을 위해 할당된 벡터로 <strong>믹서를 통과하고 나면</strong> 처방 정보를 담고 있도록 설계된다.</p>

<center>
<img src="https://onedrive.live.com/embed?resid=AE042A624064F8CA%21859&amp;authkey=%21AMJT_AeR-44McLk&amp;width=624&amp;height=561" style="width:100%"> 
</center>

<h3 id="input-example">Input Example</h3>

<p>입력의 실제값을 보면 다음과 같이 3 가지가 주어진다.</p>
<ol>
  <li>예측 물성 레이블</li>
  <li>원료 코드</li>
  <li>원료 함량</li>
</ol>

<p>이 중 원료 코드는 batch-size 를 맞추기 위해서 zero padding을 통하여 63개로 설정된다. Mixer에 넣을 때는 예측 물성 레이블과 붙여서 학습 모델에 들어간다.</p>
<center>
<img src="https://drive.google.com/uc?export=view&amp;id=1F2UMnFWfuSWu0QICl2o91vuZHyXOPnV4" style="width:100%"> 
</center>

<h2 id="training-loss">Training Loss</h2>

<p>혼합된 데이터에 대해서 학습 성능은 다음과 같다. 
cut-threshold 는 빈도수 기준으로 1 또는 2 이상의 원료만 포함된 처방으로 학습된 결과를 보여준다. 
학습이 진행됨에 따라서 <code class="language-plaintext highlighter-rouge">training</code> 과 <code class="language-plaintext highlighter-rouge">evaluation</code> 성능이 모두 향상되는 것을 볼 수 있으며, cut-threshold 2가 1보다 더 일반화가 잘 되는 것으로 보인다. 
학습 가능성을 확인하기 위해 경향성만 파악하였다.</p>

<center>
<img src="https://drive.google.com/uc?export=view&amp;id=1d2O3uJayLz7ssT3ra1rbmuwQm-mMlMcd" style="width:100%"> 
</center>

<h2 id="attention-map-해석">Attention Map 해석</h2>

<p>Mixer 의 내부는 self-attention module을 사용하여 각 토큰들에 대해서 가중치를 학습한다. 아래 그림은 attention map의 형성의 예시를 9개의 원료 조합 처방에 대해서 보여준다. 0번 물성을 예측하는데 있어서 형성된 원료들의 가중치는 각 행을 분석하면 알 수 있다. 아래 그림에서는 예측을 위해서 원료로부터 정보를 가져오지 않았다. 제대로 잘 학습된 모델이라면, 원료로부터 어느정도 정보를 가져와서 예측해야 하기 때문이다.</p>

<center>
<img src="https://drive.google.com/uc?export=view&amp;id=1N0aAqg2hb6KB-34pmoFgScWl8TLDGCNj" style="width:70%"> 
</center>

<h2 id="물성표현-차이-해석">물성표현 차이 해석</h2>

<p>학습에 사용된 물성표현벡터는 32차원 벡터이고, 각 벡터들은 서로 비교 가능하다. 아래 그림은 벡터에 대해서 L2 distance를 보여준다.</p>

<center>
<img src="https://drive.google.com/uc?export=view&amp;id=1E7dTg_YscXzE8X3jAcWa4c_-bW5Yd2PA" style="width:60%"> 
</center>

<h2 id="원료표현-차이-해석">원료표현 차이 해석</h2>

<p>마찬가지로 원료에 대해서 벡터의 차이를 고려할 수 있다. 아래 그림은 50개 원료에 대한 차이 예시를 보여준다.</p>

<center>
<img src="https://drive.google.com/uc?export=view&amp;id=1uJgsoPZ88MVWjO2kGL2OdlGm-KU9EOsv" style="width:60%"> 
</center>

<h2 id="결론">결론</h2>

<p>물성과 원료의 정보가 모두 벡터의 형태로 이루어졌고 이들을 조합하여 mixer는 처방에 대한 물성을 예측해준다. 
모델을 이해하기 위한 준비는 마쳤고, 이후 모델 학습을 고도화하고 벡터와 전문가의 지식을 활용하여 목적에 맞게 사용하도록 최적화 해야 한다.</p>

      </d-article>

      <d-appendix>
        <d-footnote-list></d-footnote-list>
        <d-citation-list></d-citation-list>
      </d-appendix>


      <hr>
<!--<div id="giscus_thread" style="max-width: 1000px; margin: 0 auto;">
    <script>
      let giscusTheme = localStorage.getItem("theme");
      let giscusAttributes = {
          "src": "https://giscus.app/client.js",
          "data-repo": "fxnnxc/fxnnxc",
          "data-repo-id": "MDEwOlJlcG9zaXRvcnkzMjQ2NjUxMTU=",
          "data-category": "Q&A",
          "data-category-id": "DIC_kwDOE1n_G84CYOk_",
          "data-mapping": "title",
          "data-strict": "0",
          "data-reactions-enabled": "1",
          "data-emit-metadata": "0",
          "data-input-position": "top",
          "data-theme": giscusTheme,
          "data-lang": "en",
          "crossorigin": "anonymous",
          "async": "",
      };
  
  
      let giscusScript = document.createElement("script");
      Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
      document.getElementById("giscus_thread").appendChild(giscusScript);
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript">comments powered by giscus.</a></noscript>
  </div>--><div id="giscus_thread" style="max-width: 1000px; margin: 0 auto;">
    <script>
      let giscusTheme = localStorage.getItem("theme");
      let giscusAttributes = {
          "src": "https://giscus.app/client.js",
          "data-repo": "fxnnxc/fxnnxc",
          "data-repo-id": "MDEwOlJlcG9zaXRvcnkzMjQ2NjUxMTU=",
          "data-category": "Q&A",
          "data-category-id": "DIC_kwDOE1n_G84CYOk_",
          "data-mapping": "title",
          "data-strict": "0",
          "data-reactions-enabled": "1",
          "data-emit-metadata": "0",
          "data-input-position": "top",
          "data-theme": giscusTheme,
          "data-lang": "en",
          "crossorigin": "anonymous",
          "async": "",
      };
  
  
      let giscusScript = document.createElement("script");
      Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
      document.getElementById("giscus_thread").appendChild(giscusScript);
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" target="_blank" rel="noopener noreferrer">comments powered by giscus.</a>
</noscript>
  </div>
</div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5" style="border: none;border-top:0px">
      <div class="container" style="text-align: center; ">
        © Copyright 2024 Bumjini  . Powered by Jekyll with al-folio theme. Hosted by GitHub Pages.

      </div>
    </footer>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": 0 });
    $("progress-container").css({ "padding-top": 0 });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>

  <d-bibliography src="/assets/bibliography/">
  </d-bibliography>

  <!-- jQuery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="/assets/js/distillpub/overrides.js"></script>

    <center>
        <img src="/assets/common/KAIST-hi.gif" width="40px" style="margin-right:0px; padding-bottom: 3px;">
    </center>
    <hr> 

</html>
